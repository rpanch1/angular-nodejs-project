<app-navbar></app-navbar>
<div class='container' style='margin-top: 50px;'>
    <h3 class='mb-3'>Add New Product</h3>
    <form #addProductForm='ngForm' (ngSubmit)='onSubmit()'>
        
        <div class='form-group mb-3'>
            <input type='text' class='form-control' placeholder='Name' 
                    [(ngModel)]='newProduct.name' name='name' #name='ngModel' 
                    [ngClass]="{'is-invalid': name.touched && name.invalid}" required>

            <div *ngIf='name.touched && name.invalid' class='invalid-feedback'>
                <div *ngIf='name.errors!.required'>Name is required</div>
            </div>
        </div>

        <div class='form-group mb-3'>
            <input type='text' class='form-control' placeholder='Category' [(ngModel)]='newProduct.category'
                    name='category' #category='ngModel' 
                    [ngClass]="{'is-invalid': category.touched && category.invalid}" required>

            <div *ngIf='category.touched && category.invalid' class='invalid-feedback'>
                <div *ngIf='category.errors!.required'>Category is required</div>
            </div>
        </div>

        <div class='form-group mb-3'>
            <input type='number' class='form-control' placeholder='Price' [(ngModel)]='newProduct.price'
                    name='price' #price='ngModel'
                    [ngClass]="{'is-invalid': price.touched && price.invalid}" required>

            <div *ngIf='price.touched && price.invalid' class='invalid-feedback'>
                <div *ngIf='price.errors!.required'>Price is required</div>
            </div>
        </div>

        <div class='form-group mb-3'>
            <input type='number' class='form-control' placeholder='Discount Price' [(ngModel)]='newProduct.discountPrice'
                    name='discountPrice' #discountPrice='ngModel'>
        </div>

        <div class='form-group mb-3'>
            <input type='text' class='form-control' placeholder='Description' [(ngModel)]='newProduct.description'
                    name='description' #description='ngModel'>
        </div>

        <div class='form-group mb-3'>
            <input type='text' class='form-control' placeholder='Image URL' [(ngModel)]='newProduct.image'
                    name='image' #image='ngModel'>
        </div>

        <button type='submit' data-testid='add-new-button' class='btn btn-primary' 
            [disabled]='addProductForm.form.invalid'>Add Product</button>&nbsp;
        <button type='reset' class='btn btn-primary'>Reset</button>

    </form>
</div>
